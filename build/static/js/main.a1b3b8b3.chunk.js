(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{20:function(e,t,n){e.exports=n(36)},25:function(e,t,n){},26:function(e,t,n){e.exports=n.p+"static/media/logo.5d5d9eef.svg"},27:function(e,t,n){},28:function(e,t,n){},29:function(e,t,n){},34:function(e,t,n){},35:function(e,t,n){},36:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(11),s=n.n(c),l=(n(25),n(26),n(1)),i=n(2),o=n(4),u=n(3),p=n(5),d=(n(27),n(28),function(e){function t(e){var n;return Object(l.a)(this,t),(n=Object(o.a)(this,Object(u.a)(t).call(this,e))).changeHandler=function(e){var t=parseInt(e.target.value);n.props.updateVehicle(t),n.setState({selected_vehicle:t})},n.state={selected_vehicle:-1},n}return Object(p.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this,t=this.props.vehicles?this.props.vehicles.map(function(t,n){var a="vehicle"+e.props.id,c=""+n,s="radio left",l=!1;return(0==t.total_no||e.props.distance>t.max_distance)&&e.state.selected_vehicle!=n&&(s+=" disabled",l=!0),r.a.createElement("div",{key:n,className:s},r.a.createElement("label",{htmlFor:t.name},r.a.createElement("input",{type:"radio",name:a,value:c,onChange:e.changeHandler,disabled:l}),t.name," (",t.total_no,")"),r.a.createElement("br",null))}):null;return r.a.createElement("div",null,t)}}]),t}(a.Component)),m=(n(29),n(7)),h="UPDATE_TIME",f="ADD_QUANTITY",v="SUB_QUANTITY",b="PENDING",y="ERROR",E="FULFILLED",O="SEARCHING",g="SEARCHED",j="https://findfalcone.herokuapp.com/vehicles",k="https://findfalcone.herokuapp.com/planets",N="https://findfalcone.herokuapp.com/token",_="https://findfalcone.herokuapp.com/find",w={Accept:"application/json","Content-Type":"application/json"};function T(e){return{type:y,payload:{status:"error",error:e}}}function x(){return function(e){e({type:b,payload:{status:"Loading"}});var t={vehicles:[],planets:[],time:0,status:"fulfilled",error:""};fetch(j).then(function(e){return e.json()}).then(function(e){return t.vehicles=S(e,0),fetch(k)}).then(function(e){return e.json()}).then(function(n){t.planets=S(n,!1),e(function(e){return{type:E,payload:e}}(t))}).catch(function(t){e(T(t))})}}function C(e,t,n){return function(a){a({type:O,payload:{status:"Searching"}}),fetch(e,{method:"POST",headers:w,body:""}).then(function(e){return e.json()}).then(function(e){n.token=e.token;var a=JSON.stringify(n);return fetch(t,{method:"POST",headers:w,body:a})}).then(function(e){return e.json()}).then(function(e){var t;a((void 0==(t=e).status&&(t.status="error"),{type:g,payload:t}))}).catch(function(e){console.log(e),a(T(e))})}}function S(e,t){return e.forEach(function(e){e.selected=t}),e}var I=4,L=function(e){function t(e){var n;return Object(l.a)(this,t),(n=Object(o.a)(this,Object(u.a)(t).call(this,e))).updateVehicle=function(e){var t=-1!==e?n.state.distance/n.props.vehicles[e].speed:0,a=n.state.selected_vehicle;-1!==a&&(n.props.addQuantity(a,"vehicle"),n.props.updateTime(-n.state.time)),-1!==e&&(n.props.subQuantity(e,"vehicle"),n.props.updateTime(t)),n.setState({selected_vehicle:e,time:t})},n.changeHandler=function(e){var t=parseInt(e.target.value),a=-1!==t?n.props.planets[t].distance:0,r=n.state.selected_planet;-1!==r&&n.props.addQuantity(r,"planet"),-1!==t&&n.props.subQuantity(t,"planet"),n.props.addQuantity(n.state.selected_vehicle,"vehicle"),n.props.updateTime(-n.state.time),n.setState(function(e){return{id:e.id+I,selected_vehicle:-1,time:0,selected_planet:t,distance:a}})},n.state={id:0,distance:0,time:0,selected_planet:-1,selected_vehicle:-1},n}return Object(p.a)(t,e),Object(i.a)(t,[{key:"componentWillMount",value:function(){this.setState({id:this.props.id})}},{key:"render",value:function(){var e=this,t=this.props.planets?this.props.planets.map(function(t,n){var a=""+n;if(!t.selected||e.state.selected_planet==a)return r.a.createElement("option",{key:a,value:a},t.name," ")}):null;return r.a.createElement("div",null,r.a.createElement("select",{onChange:this.changeHandler,value:""+this.state.selected_planet},r.a.createElement("option",{value:"-1"},"Select"),t),-1!==this.state.selected_planet?r.a.createElement(d,{id:this.state.id,key:this.state.id,vehicles:this.props.vehicles,updateVehicle:this.updateVehicle,distance:this.state.distance}):null)}}]),t}(a.Component),P=Object(m.b)(function(e,t){return{vehicles:e.vehicles,planets:e.planets,id:t.id}},function(e){return{addQuantity:function(t,n){e(function(e,t){return{type:f,payload:{type:t,index:e}}}(t,n))},subQuantity:function(t,n){e(function(e,t){return{type:v,payload:{type:t,index:e}}}(t,n))},updateTime:function(t){e(function(e){return{type:h,payload:{time:e}}}(t))}}})(L),Q=function(e){function t(e){var n;return Object(l.a)(this,t),(n=Object(o.a)(this,Object(u.a)(t).call(this,e))).findFalcone=function(){var e=[],t=[];n.props.store.planets.forEach(function(t){t.selected&&e.push(t.name)}),n.props.store.vehicles.forEach(function(e){if(e.selected>0)for(var n=e.selected;n>0;)t.push(e.name),n--});var a={token:"",planet_names:e,vehicle_names:t};n.props.findfalcone(N,_,a)},n}return Object(p.a)(t,e),Object(i.a)(t,[{key:"Planets_Selected",value:function(){var e=0;return this.props.store.vehicles.forEach(function(t){e+=t.selected}),4==e}},{key:"render",value:function(){for(var e=[],t=1;t<=4;t++){var n=t;e.push(r.a.createElement("div",{className:"w-20",key:n},r.a.createElement("b",{className:"text_bold"},"Destination ",t),r.a.createElement(P,{id:n})))}return r.a.createElement("div",{className:"container"},r.a.createElement("center",null,r.a.createElement("h3",{className:"py-5"},"Select planets you want to search in")),r.a.createElement("div",{className:"row"},e,r.a.createElement("div",{className:"w-20"},r.a.createElement("b",{className:"text_bold stick_right"},"Time taken"),r.a.createElement("br",null),r.a.createElement("span",{className:"badge badge-pill badge-primary btn stick_right"},this.props.store.time))),r.a.createElement("center",{className:"my-5"},r.a.createElement("button",{className:"btn badge badge-pill badge-primary",onClick:this.findFalcone,disabled:!this.Planets_Selected()},"Find"),r.a.createElement("br",null)))}}]),t}(a.Component),A=Object(m.b)(function(e){return{store:e}},function(e){return{findfalcone:function(t,n,a){e(C(t,n,a))}}})(Q),F=function(e){function t(){return Object(l.a)(this,t),Object(o.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.props.store,t=e.status,n=e.time,a="success"==t?r.a.createElement("p",null,"Planet found : ",this.props.store.planet_name):null;return r.a.createElement("div",null,r.a.createElement("center",null,r.a.createElement("p",null,"success"==t?"Success ! Congratulation Mission complete":"Oops ! Better Luck Next Time"),r.a.createElement("p",null,"Time taken : ",n),"success"==t?a:null,r.a.createElement("p",null,r.a.createElement("button",{className:"btn badge badge-pill badge-primary",onClick:this.props.reset},"Play Again"),r.a.createElement("br",null))))}}]),t}(a.Component),D=function(e){function t(){return Object(l.a)(this,t),Object(o.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("center",null,r.a.createElement("h1",null,"Error :( "),r.a.createElement("p",null,this.props.message)))}}]),t}(a.Component),H=function(e){function t(){return Object(l.a)(this,t),Object(o.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("center",null,r.a.createElement("h3",null,this.props.message,"...")))}}]),t}(a.Component),R=(n(34),function(e){function t(){return Object(l.a)(this,t),Object(o.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement("nav",{className:"navbar navbar-expand-lg navbar-dark bg-primary"},r.a.createElement("a",{className:"navbar-brand",href:"https://www.geektrust.in"},"GeekTrust "),r.a.createElement("button",{className:"navbar-toggler",type:"button","data-toggle":"collapse","data-target":"#navbarText","aria-controls":"navbarText","aria-expanded":"false","aria-label":"Toggle navigation"},r.a.createElement("span",{className:"navbar-toggler-icon"})),r.a.createElement("div",{className:"collapse navbar-collapse",id:"navbarText"},r.a.createElement("ul",{className:"navbar-nav mr-auto"},r.a.createElement("li",{className:"nav-item active"},r.a.createElement("a",{className:"nav-link navbar-brand",href:"#",onClick:this.props.reset}," Reset ",r.a.createElement("span",{className:"sr-only"},"(current)"))))))}}]),t}(a.Component)),U=(n(35),function(e){function t(){return Object(l.a)(this,t),Object(o.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("div",{className:"col-sm-12 last"},r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"col-sm-12 footer"},r.a.createElement("span",null," Coding Problem  - www.geektrust.in/finding-falcone ")))))}}]),t}(a.Component)),B=function(e){function t(e){var n;return Object(l.a)(this,t),(n=Object(o.a)(this,Object(u.a)(t).call(this,e))).reset=function(){n.props.reset(),n.setState(function(e){return{id:e.id+1}})},n.isgameOver=function(){return"success"==n.props.store.status||"false"==n.props.store.status},n.isLoading=function(){var e=n.props.store.status;return"Loading"==e||"Searching"==e},n.isError=function(){return console.log(n.props.store.error),n.props.store.error.trim().length>0},n.state={id:1},n}return Object(p.a)(t,e),Object(i.a)(t,[{key:"componentWillMount",value:function(){this.props.reset()}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(R,{reset:this.reset}),r.a.createElement("div",{className:"container-fluid"},r.a.createElement("center",null,r.a.createElement("h1",{className:"my-3"},"Finding Falcone!")),this.isLoading()?r.a.createElement(H,{message:this.props.store.status}):null,this.isgameOver()?r.a.createElement(F,{reset:this.reset,store:this.props.store}):null,this.isError()?r.a.createElement(D,{message:this.props.store.error}):null,this.isgameOver()||this.isError()||this.isLoading()?null:r.a.createElement(A,{key:this.state.id})),r.a.createElement(U,null))}}]),t}(a.Component),M=Object(m.b)(function(e){return{store:e}},function(e){return{reset:function(){e(x())}}})(B);var V=function(){return r.a.createElement(M,null)};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var W=n(10),G=n(19),J=n(15),Y=n(8),$={vehicles:[],planets:[],time:0,status:"",error:""};function q(e,t,n){var a=n.vehicles[e].total_no,r=a+t>=0?a+t:a,c=Object(J.a)(n.vehicles);return c[e].total_no=r,c[e].selected=c[e].selected-(r-a),Object(Y.a)({},n,{vehicles:c})}function z(e,t,n){var a=Object(J.a)(n.planets);return a[e].selected=t,Object(Y.a)({},n,{planets:a})}var K=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$,t=arguments.length>1?arguments[1]:void 0;if(t.type===f){if(t.payload.index<0)return Object(Y.a)({},e);if("vehicle"===t.payload.type)return q(t.payload.index,1,e);if("planet"===t.payload.type)return z(t.payload.index,!1,e)}if(t.type===v){if(t.payload.index<0)return Object(Y.a)({},e);if("vehicle"===t.payload.type)return q(t.payload.index,-1,e);if("planet"===t.payload.type)return z(t.payload.index,!0,e)}if(t.type===h){var n=e.time+t.payload.time;return Object(Y.a)({},e,{time:n})}return t.type===b||t.type===y||t.type===E||t.type===O||t.type===g?Object(Y.a)({},e,t.payload):Object(Y.a)({},e)},X=[G.a],Z=Object(W.c)(K,W.a.apply(void 0,X));s.a.render(r.a.createElement(m.a,{store:Z},r.a.createElement(V,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[20,1,2]]]);
//# sourceMappingURL=main.a1b3b8b3.chunk.js.map